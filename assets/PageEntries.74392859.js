import{c as D,f as G,k as W,r as R,a as w,ac as J,o as N,h as Q,b as H,t as Z,g as z,y as ee,ad as te,ae as oe,q as ne,af as ae,a8 as M,s as ie,ag as re,ah as se,i as k,e as F,G as le,w as P,K as ue,l as Y,z as ce,ai as de,I as fe,L as O,M as A,N as $,V as E,O as _,W as me,X as ve,Y as he,aj as j,ak as V,S as I,al as T,U as ge,am as pe,Q as ye,R as U}from"./index.cbf7f795.js";import{T as be,Q as xe,c as Ce,a as we,b as K}from"./QItem.2ab96d50.js";function qe(){let t=Object.create(null);return{getCache:(a,l)=>t[a]===void 0?t[a]=typeof l=="function"?l():l:t[a],setCache(a,l){t[a]=l},hasCache(a){return Object.hasOwnProperty.call(t,a)},clearCache(a){a!==void 0?delete t[a]:t=Object.create(null)}}}const X=[["left","center","start","width"],["right","center","end","width"],["top","start","center","height"],["bottom","end","center","height"]];var Se=D({name:"QSlideItem",props:{...G,leftColor:String,rightColor:String,topColor:String,bottomColor:String,onSlide:Function},emits:["action","top","right","bottom","left"],setup(t,{slots:a,emit:l}){const{proxy:m}=z(),{$q:n}=m,h=W(t,n),{getCache:d}=qe(),p=R(null);let g=null,s={},C={},v={};const f=w(()=>n.lang.rtl===!0?{left:"right",right:"left"}:{left:"left",right:"right"}),o=w(()=>"q-slide-item q-item-type overflow-hidden"+(h.value===!0?" q-slide-item--dark q-dark":""));function b(){p.value.style.transform="translate(0,0)"}function y(u,x,i){t.onSlide!==void 0&&l("slide",{side:u,ratio:x,isReset:i})}function q(u){const x=p.value;if(u.isFirst)s={dir:null,size:{left:0,right:0,top:0,bottom:0},scale:0},x.classList.add("no-transition"),X.forEach(r=>{if(a[r[0]]!==void 0){const S=v[r[0]];S.style.transform="scale(1)",s.size[r[0]]=S.getBoundingClientRect()[r[3]]}}),s.axis=u.direction==="up"||u.direction==="down"?"Y":"X";else if(u.isFinal){x.classList.remove("no-transition"),s.scale===1?(x.style.transform=`translate${s.axis}(${s.dir*100}%)`,g!==null&&clearTimeout(g),g=setTimeout(()=>{g=null,l(s.showing,{reset:b}),l("action",{side:s.showing,reset:b})},230)):(x.style.transform="translate(0,0)",y(s.showing,0,!0));return}else u.direction=s.axis==="X"?u.offset.x<0?"left":"right":u.offset.y<0?"up":"down";if(a.left===void 0&&u.direction===f.value.right||a.right===void 0&&u.direction===f.value.left||a.top===void 0&&u.direction==="down"||a.bottom===void 0&&u.direction==="up"){x.style.transform="translate(0,0)";return}let i,c,e;s.axis==="X"?(c=u.direction==="left"?-1:1,i=c===1?f.value.left:f.value.right,e=u.distance.x):(c=u.direction==="up"?-2:2,i=c===2?"top":"bottom",e=u.distance.y),!(s.dir!==null&&Math.abs(c)!==Math.abs(s.dir))&&(s.dir!==c&&(["left","right","top","bottom"].forEach(r=>{C[r]&&(C[r].style.visibility=i===r?"visible":"hidden")}),s.showing=i,s.dir=c),s.scale=Math.max(0,Math.min(1,(e-40)/s.size[i])),x.style.transform=`translate${s.axis}(${e*c/Math.abs(c)}px)`,v[i].style.transform=`scale(${s.scale})`,y(i,s.scale,!1))}return J(()=>{C={},v={}}),N(()=>{g!==null&&clearTimeout(g)}),Object.assign(m,{reset:b}),()=>{const u=[],x={left:a[f.value.right]!==void 0,right:a[f.value.left]!==void 0,up:a.bottom!==void 0,down:a.top!==void 0},i=Object.keys(x).filter(e=>x[e]===!0);X.forEach(e=>{const r=e[0];a[r]!==void 0&&u.push(Q("div",{key:r,ref:S=>{C[r]=S},class:`q-slide-item__${r} absolute-full row no-wrap items-${e[1]} justify-${e[2]}`+(t[r+"Color"]!==void 0?` bg-${t[r+"Color"]}`:"")},[Q("div",{ref:S=>{v[r]=S}},a[r]())]))});const c=Q("div",{key:`${i.length===0?"only-":""} content`,ref:p,class:"q-slide-item__content"},H(a.default));return i.length===0?u.push(c):u.push(Z(c,d("dir#"+i.join(""),()=>{const e={prevent:!0,stop:!0,mouse:!0};return i.forEach(r=>{e[r]=!0}),[[be,q,void 0,e]]}))),Q("div",{class:o.value},u)}}}),_e=D({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(t,{slots:a,emit:l}){const m=z(),n=R(null);let h=0;const d=[];function p(o){const b=typeof o=="boolean"?o:t.noErrorFocus!==!0,y=++h,q=(i,c)=>{l(`validation${i===!0?"Success":"Error"}`,c)},u=i=>{const c=i.validate();return typeof c.then=="function"?c.then(e=>({valid:e,comp:i}),e=>({valid:!1,comp:i,err:e})):Promise.resolve({valid:c,comp:i})};return(t.greedy===!0?Promise.all(d.map(u)).then(i=>i.filter(c=>c.valid!==!0)):d.reduce((i,c)=>i.then(()=>u(c).then(e=>{if(e.valid===!1)return Promise.reject(e)})),Promise.resolve()).catch(i=>[i])).then(i=>{if(i===void 0||i.length===0)return y===h&&q(!0),!0;if(y===h){const{comp:c,err:e}=i[0];if(e!==void 0&&console.error(e),q(!1,c),b===!0){const r=i.find(({comp:S})=>typeof S.focus=="function"&&ae(S.$)===!1);r!==void 0&&r.comp.focus()}}return!1})}function g(){h++,d.forEach(o=>{typeof o.resetValidation=="function"&&o.resetValidation()})}function s(o){o!==void 0&&M(o);const b=h+1;p().then(y=>{b===h&&y===!0&&(t.onSubmit!==void 0?l("submit",o):o!==void 0&&o.target!==void 0&&typeof o.target.submit=="function"&&o.target.submit())})}function C(o){o!==void 0&&M(o),l("reset"),ie(()=>{g(),t.autofocus===!0&&t.noResetFocus!==!0&&v()})}function v(){re(()=>{if(n.value===null)return;const o=n.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||n.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||n.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(n.value.querySelectorAll("[tabindex]"),b=>b.tabIndex!==-1);o!=null&&o.focus({preventScroll:!0})})}ee(se,{bindComponent(o){d.push(o)},unbindComponent(o){const b=d.indexOf(o);b!==-1&&d.splice(b,1)}});let f=!1;return te(()=>{f=!0}),oe(()=>{f===!0&&t.autofocus===!0&&v()}),ne(()=>{t.autofocus===!0&&v()}),Object.assign(m.proxy,{validate:p,resetValidation:g,submit:s,reset:C,focus:v,getValidationComponents:()=>d}),()=>Q("form",{class:"q-form",ref:n,onSubmit:s,onReset:C},H(a.default))}}),$e=D({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(t,{slots:a,emit:l}){const{proxy:{$q:m}}=z(),n=k(Y,F);if(n===F)return console.error("QFooter needs to be child of QLayout"),F;const h=R(parseInt(t.heightHint,10)),d=R(!0),p=R(le.value===!0||n.isContainer.value===!0?0:window.innerHeight),g=w(()=>t.reveal===!0||n.view.value.indexOf("F")!==-1||m.platform.is.ios&&n.isContainer.value===!0),s=w(()=>n.isContainer.value===!0?n.containerHeight.value:p.value),C=w(()=>{if(t.modelValue!==!0)return 0;if(g.value===!0)return d.value===!0?h.value:0;const e=n.scroll.value.position+s.value+h.value-n.height.value;return e>0?e:0}),v=w(()=>t.modelValue!==!0||g.value===!0&&d.value!==!0),f=w(()=>t.modelValue===!0&&v.value===!0&&t.reveal===!0),o=w(()=>"q-footer q-layout__section--marginal "+(g.value===!0?"fixed":"absolute")+"-bottom"+(t.bordered===!0?" q-footer--bordered":"")+(v.value===!0?" q-footer--hidden":"")+(t.modelValue!==!0?" q-layout--prevent-focus"+(g.value!==!0?" hidden":""):"")),b=w(()=>{const e=n.rows.value.bottom,r={};return e[0]==="l"&&n.left.space===!0&&(r[m.lang.rtl===!0?"right":"left"]=`${n.left.size}px`),e[2]==="r"&&n.right.space===!0&&(r[m.lang.rtl===!0?"left":"right"]=`${n.right.size}px`),r});function y(e,r){n.update("footer",e,r)}function q(e,r){e.value!==r&&(e.value=r)}function u({height:e}){q(h,e),y("size",e)}function x(){if(t.reveal!==!0)return;const{direction:e,position:r,inflectionPoint:S}=n.scroll.value;q(d,e==="up"||r-S<100||n.height.value-s.value-r-h.value<300)}function i(e){f.value===!0&&q(d,!0),l("focusin",e)}P(()=>t.modelValue,e=>{y("space",e),q(d,!0),n.animate()}),P(C,e=>{y("offset",e)}),P(()=>t.reveal,e=>{e===!1&&q(d,t.modelValue)}),P(d,e=>{n.animate(),l("reveal",e)}),P([h,n.scroll,n.height],x),P(()=>m.screen.height,e=>{n.isContainer.value!==!0&&q(p,e)});const c={};return n.instances.footer=c,t.modelValue===!0&&y("size",h.value),y("space",t.modelValue),y("offset",C.value),N(()=>{n.instances.footer===c&&(n.instances.footer=void 0,y("size",0),y("offset",0),y("space",!1))}),()=>{const e=ue(a.default,[Q(xe,{debounce:0,onResize:u})]);return t.elevated===!0&&e.push(Q("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),Q("footer",{class:o.value,style:b.value,onFocusin:i},e)}}}),Fe=D({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(t,{slots:a}){const{proxy:{$q:l}}=z(),m=k(Y,F);if(m===F)return console.error("QPage needs to be a deep child of QLayout"),F;if(k(ce,F)===F)return console.error("QPage needs to be child of QPageContainer"),F;const h=w(()=>{const p=(m.header.space===!0?m.header.size:0)+(m.footer.space===!0?m.footer.size:0);if(typeof t.styleFn=="function"){const g=m.isContainer.value===!0?m.containerHeight.value:l.screen.height;return t.styleFn(p,g)}return{minHeight:m.isContainer.value===!0?m.containerHeight.value-p+"px":l.screen.height===0?p!==0?`calc(100vh - ${p}px)`:"100vh":l.screen.height-p+"px"}}),d=w(()=>`q-page${t.padding===!0?" q-layout-padding":""}`);return()=>Q("main",{class:d.value,style:h.value},H(a.default))}});function Qe(){return k(de)}function L(t){let a="";t>0?a="+":t<0&&(a="-");const l="$",m=Math.abs(t),n=m.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return`${a} ${l} ${n}`}function B(t){return t>0?"text-positive":t<0?"text-negative":"text-grey-6"}const Ee={class:"q-pa-md"},Re={class:"row q-mb-sm q-px-md q-py-sm shadow-up-3"},Pe=E("div",{class:"col text-grey-7 text-h6"},"Balance:",-1),Ve={class:"col"},Be={class:"col"},ke={class:"col col-auto"},Oe={__name:"PageEntries",setup(t){const a=Qe(),l=R([{id:1,name:"Salary",amount:4999.99},{id:2,name:"Rent",amount:-999},{id:3,name:"Phone",amount:-14.99},{id:4,name:"Unknown",amount:0}]),m=w(()=>l.value.reduce((v,{amount:f})=>v+f,0)),n=R(null),h={name:"",amount:null},d=fe({...h}),p=()=>{Object.assign(d,h),n.value.focus()},g=()=>{const v=Object.assign({},d,{id:pe()});l.value.push(v),p()},s=v=>{const f=l.value.findIndex(o=>o.id===v);l.value.splice(f,1),a.notify({message:"Entry Deleted",position:"top"})},C=({reset:v},f)=>{a.dialog({title:"Delete Entry",message:`
    Delete this entry?
    <div class= 'q-mt-md text-weight-bold ${B(f.amount)}'>
      ${f.name} : ${L(f.amount)}
      </div>
    `,cancel:!0,persistent:!0,html:!0,ok:{label:"Delete",color:"negative",noCaps:!0},cancel:{color:"primary",noCaps:!0}}).onOk(()=>{s(f.id)}).onCancel(()=>{v()})};return(v,f)=>(O(),A(Fe,null,{default:$(()=>[E("div",Ee,[_(Ce,{bordered:"",separator:""},{default:$(()=>[(O(!0),me(he,null,ve(l.value,o=>(O(),A(Se,{key:o.id,onRight:b=>C(b,o),"left-color":"positive","right-color":"negative"},{right:$(()=>[_(ye,{name:"delete"})]),default:$(()=>[_(we,null,{default:$(()=>[_(K,{class:j(["text-weight-bold",V(B)(o.amount)])},{default:$(()=>[U(I(o.name),1)]),_:2},1032,["class"]),_(K,{class:j(["text-weight-bold",V(B)(o.amount)]),side:""},{default:$(()=>[U(I(V(L)(o.amount)),1)]),_:2},1032,["class"])]),_:2},1024)]),_:2},1032,["onRight"]))),128))]),_:1})]),_($e,{class:"bg-transparent"},{default:$(()=>[E("div",Re,[Pe,E("div",{class:j(["col text-h6 text-right",V(B)(m.value)])},I(V(L)(m.value)),3)]),_(_e,{onSubmit:g,class:"row q-px-sm q-pb-sm q-col-gutter-sm bg-primary"},{default:$(()=>[E("div",Ve,[_(T,{modelValue:d.name,"onUpdate:modelValue":f[0]||(f[0]=o=>d.name=o),outlined:"","bg-color":"white",dense:"",placeholder:"Name",ref_key:"nameRef",ref:n},null,8,["modelValue"])]),E("div",Be,[_(T,{modelValue:d.amount,"onUpdate:modelValue":f[1]||(f[1]=o=>d.amount=o),modelModifiers:{number:!0},type:"number",step:"0.01",outlined:"","bg-color":"white",dense:"",placeholder:"Amount","input-class":"text-right"},null,8,["modelValue"])]),E("div",ke,[_(ge,{round:"",color:"primary",icon:"add",type:"submit"})])]),_:1})]),_:1})]),_:1}))}};export{Oe as default};
